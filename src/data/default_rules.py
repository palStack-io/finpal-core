"""
Default Transaction Rules for Auto-Categorization
Comprehensive rule patterns loaded on fresh install

Each rule follows this structure:
{
    'name': 'Rule name',
    'pattern': 'text or regex pattern',
    'pattern_field': 'description',  # field to match against
    'is_regex': False,  # whether pattern is regex
    'case_sensitive': False,
    'category': 'Category Name/Subcategory Name',  # will be resolved to ID
    'priority': 100,  # higher priority runs first
}
"""

DEFAULT_RULES = [
    # ========== INCOME RULES ==========
    {
        'name': 'Salary/Paycheck',
        'pattern': r'\b(salary|payroll|paycheck|direct deposit|dd|wage|pay period)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Income/Salary',
        'priority': 100,
    },
    {
        'name': 'Freelance Income',
        'pattern': r'\b(upwork|fiverr|freelance|contractor|gig|commission)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Income/Freelance',
        'priority': 100,
    },
    {
        'name': 'Investment Dividends',
        'pattern': r'\b(dividend|div|distribution|etf|mutual fund)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Income/Dividends',
        'priority': 100,
    },
    {
        'name': 'Interest Income',
        'pattern': r'\b(interest|int pymnt|savings interest)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Income/Interest',
        'priority': 100,
    },
    {
        'name': 'Refunds',
        'pattern': r'\b(refund|return|reimbursement|credit)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Income/Refunds',
        'priority': 90,
    },

    # ========== HOUSING & UTILITIES ==========
    {
        'name': 'Rent Payment',
        'pattern': r'\b(rent|rental|landlord|lease)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Rent',
        'priority': 100,
    },
    {
        'name': 'Mortgage Payment',
        'pattern': r'\b(mortgage|mort pmt|home loan)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Mortgage',
        'priority': 100,
    },
    {
        'name': 'Electric Bill',
        'pattern': r'\b(electric|electricity|power company|pge|duke energy|con edison|coned)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Electricity',
        'priority': 100,
    },
    {
        'name': 'Water Bill',
        'pattern': r'\b(water|sewer|utility water)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Water',
        'priority': 100,
    },
    {
        'name': 'Gas Bill',
        'pattern': r'\b(gas company|natural gas|heating gas)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Gas',
        'priority': 100,
    },
    {
        'name': 'Internet Service',
        'pattern': r'\b(internet|comcast|xfinity|at&t|verizon fios|spectrum|cox|broadband|wifi)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Internet',
        'priority': 100,
    },
    {
        'name': 'Phone Bill',
        'pattern': r'\b(phone|mobile|wireless|t-mobile|verizon|at&t mobility|sprint)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Phone',
        'priority': 100,
    },
    {
        'name': 'Streaming Services',
        'pattern': r'\b(netflix|hulu|disney\+|disney plus|hbo max|prime video|apple tv|spotify|youtube premium|paramount)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Housing/Cable/Streaming',
        'priority': 100,
    },

    # ========== TRANSPORTATION ==========
    {
        'name': 'Gas Stations',
        'pattern': r'\b(shell|exxon|mobil|chevron|bp|texaco|arco|sunoco|circle k|wawa|7-eleven|gas station|fuel)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Transportation/Gas/Fuel',
        'priority': 100,
    },
    {
        'name': 'Parking',
        'pattern': r'\b(parking|park|garage|meter|parkwhiz|spothero)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Transportation/Parking',
        'priority': 100,
    },
    {
        'name': 'Public Transit',
        'pattern': r'\b(subway|metro|bus|train|transit|mta|bart|cta|mbta|septa|clipper|metro card|charlie card)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Transportation/Public Transit',
        'priority': 100,
    },
    {
        'name': 'Ride Share',
        'pattern': r'\b(uber|lyft|ride share|rideshare|taxi|cab)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Transportation/Ride Share',
        'priority': 100,
    },
    {
        'name': 'Tolls',
        'pattern': r'\b(toll|e-zpass|fastrak|sunpass|ipass)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Transportation/Tolls',
        'priority': 100,
    },
    {
        'name': 'Auto Insurance',
        'pattern': r'\b(auto insurance|car insurance|geico|progressive|state farm|allstate|farmers insurance)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Transportation/Car Insurance',
        'priority': 100,
    },

    # ========== FOOD & DINING ==========
    {
        'name': 'Grocery Stores',
        'pattern': r'\b(whole foods|trader joe|kroger|safeway|albertsons|publix|aldi|walmart|target|costco|sam\'s club|wegmans|grocery|supermarket|market)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Food & Dining/Groceries',
        'priority': 100,
    },
    {
        'name': 'Fast Food',
        'pattern': r'\b(mcdonald|burger king|wendy\'s|taco bell|kfc|popeyes|chick-fil-a|chipotle|panera|subway|arby\'s|jack in the box|sonic|dairy queen)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Food & Dining/Fast Food',
        'priority': 100,
    },
    {
        'name': 'Coffee Shops',
        'pattern': r'\b(starbucks|dunkin|dunkin donuts|peet\'s|caribou|dutch bros|coffee bean|local coffee|cafe|coffeehouse)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Food & Dining/Coffee Shops',
        'priority': 100,
    },
    {
        'name': 'Food Delivery',
        'pattern': r'\b(doordash|ubereats|grubhub|postmates|seamless|instacart|delivery)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Food & Dining/Food Delivery',
        'priority': 100,
    },
    {
        'name': 'Restaurants',
        'pattern': r'\b(restaurant|dining|bistro|grill|kitchen|eatery|bar & grill)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Food & Dining/Restaurants',
        'priority': 80,  # Lower priority so specific patterns match first
    },

    # ========== SHOPPING ==========
    {
        'name': 'Amazon',
        'pattern': r'\b(amazon|amzn|aws marketplace)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Shopping/Online Shopping',
        'priority': 100,
    },
    {
        'name': 'Online Retailers',
        'pattern': r'\b(ebay|etsy|wayfair|zappos|chewy|best buy|apple.com|microsoft store)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Shopping/Online Shopping',
        'priority': 100,
    },
    {
        'name': 'Clothing Stores',
        'pattern': r'\b(h&m|zara|gap|old navy|banana republic|uniqlo|forever 21|nordstrom|macy\'s|kohl\'s|tj maxx|marshalls|ross)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Shopping/Clothing',
        'priority': 100,
    },
    {
        'name': 'Electronics',
        'pattern': r'\b(best buy|apple store|microsoft store|gamestop|electronics|computer)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Shopping/Electronics',
        'priority': 100,
    },
    {
        'name': 'Bookstores',
        'pattern': r'\b(barnes|noble|bookstore|books-a-million|half price books|amazon books)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Shopping/Books',
        'priority': 100,
    },

    # ========== HEALTH & FITNESS ==========
    {
        'name': 'Gym Membership',
        'pattern': r'\b(gym|fitness|24 hour fitness|la fitness|planet fitness|lifetime|equinox|orange theory|crossfit|yoga studio)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Health & Fitness/Gym Membership',
        'priority': 100,
    },
    {
        'name': 'Pharmacy',
        'pattern': r'\b(pharmacy|cvs|walgreens|rite aid|rx|prescription|medicine)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Health & Fitness/Pharmacy',
        'priority': 100,
    },
    {
        'name': 'Doctor/Medical',
        'pattern': r'\b(doctor|physician|clinic|medical|hospital|healthcare|dr\.|health center)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Health & Fitness/Doctor Visits',
        'priority': 100,
    },
    {
        'name': 'Dentist',
        'pattern': r'\b(dental|dentist|orthodont|teeth cleaning)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Health & Fitness/Dentist',
        'priority': 100,
    },

    # ========== ENTERTAINMENT ==========
    {
        'name': 'Movie Theaters',
        'pattern': r'\b(amc|cinemark|regal|cinema|movie theater|theatre)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Entertainment/Movies',
        'priority': 100,
    },
    {
        'name': 'Gaming',
        'pattern': r'\b(steam|playstation|xbox|nintendo|epic games|gaming|game)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Entertainment/Gaming',
        'priority': 100,
    },
    {
        'name': 'Music Streaming',
        'pattern': r'\b(spotify|apple music|pandora|tidal|soundcloud|music streaming)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Entertainment/Streaming Services',
        'priority': 100,
    },

    # ========== PERSONAL CARE ==========
    {
        'name': 'Hair Salon',
        'pattern': r'\b(salon|hair cut|haircut|barber|hair style|great clips|supercuts)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Personal Care/Hair Care',
        'priority': 100,
    },
    {
        'name': 'Spa & Massage',
        'pattern': r'\b(spa|massage|nail salon|manicure|pedicure)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Personal Care/Salon/Spa',
        'priority': 100,
    },
    {
        'name': 'Cosmetics',
        'pattern': r'\b(sephora|ulta|cosmetics|makeup|beauty)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Personal Care/Cosmetics',
        'priority': 100,
    },

    # ========== EDUCATION ==========
    {
        'name': 'Online Learning',
        'pattern': r'\b(udemy|coursera|linkedin learning|skillshare|masterclass|pluralsight|datacamp)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Education/Online Courses',
        'priority': 100,
    },
    {
        'name': 'Student Loans',
        'pattern': r'\b(student loan|navient|great lakes|nelnet|fedloan|slfi)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Education/Student Loans',
        'priority': 100,
    },

    # ========== TRAVEL ==========
    {
        'name': 'Airlines',
        'pattern': r'\b(airline|airways|delta|united|american airlines|southwest|jetblue|alaska air|spirit|frontier)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Travel/Flights',
        'priority': 100,
    },
    {
        'name': 'Hotels',
        'pattern': r'\b(hotel|marriott|hilton|hyatt|holiday inn|best western|airbnb|vrbo|motel)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Travel/Hotels',
        'priority': 100,
    },
    {
        'name': 'Car Rental',
        'pattern': r'\b(car rental|hertz|enterprise|budget|avis|national|alamo|dollar|thrifty)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Travel/Car Rental',
        'priority': 100,
    },

    # ========== PETS ==========
    {
        'name': 'Pet Supplies',
        'pattern': r'\b(petsmart|petco|chewy|pet supplies|pet food|dog|cat|pet)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Pets/Pet Supplies',
        'priority': 100,
    },
    {
        'name': 'Veterinary',
        'pattern': r'\b(veterinary|vet|animal hospital|animal clinic)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Pets/Veterinary',
        'priority': 100,
    },

    # ========== DEBT & LOANS ==========
    {
        'name': 'Credit Card Payment',
        'pattern': r'\b(credit card payment|cc payment|visa payment|mastercard payment|amex payment|discover payment)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Debt & Loans/Credit Card Payment',
        'priority': 100,
    },

    # ========== INSURANCE ==========
    {
        'name': 'Health Insurance',
        'pattern': r'\b(health insurance|blue cross|blue shield|aetna|cigna|united healthcare|humana|kaiser)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Insurance/Health Insurance',
        'priority': 100,
    },
    {
        'name': 'Life Insurance',
        'pattern': r'\b(life insurance|term life|whole life)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Insurance/Life Insurance',
        'priority': 100,
    },

    # ========== CHARITY ==========
    {
        'name': 'Charitable Donations',
        'pattern': r'\b(donation|charity|non-profit|red cross|unicef|salvation army|goodwill|church|temple|mosque)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Charity/Non-Profit',
        'priority': 100,
    },

    # ========== BUSINESS ==========
    {
        'name': 'Business Software',
        'pattern': r'\b(adobe|microsoft 365|office 365|google workspace|slack|zoom|dropbox|notion|asana|trello)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Business/Software & Tools',
        'priority': 100,
    },

    # ========== FEES ==========
    {
        'name': 'Bank Fees',
        'pattern': r'\b(bank fee|service fee|monthly fee|overdraft|nsf|atm fee|foreign transaction)\b',
        'pattern_field': 'description',
        'is_regex': True,
        'case_sensitive': False,
        'category': 'Miscellaneous/Bank Fees',
        'priority': 100,
    },
]
